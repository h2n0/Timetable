<!DOCTYPE html>

<html>
	<head>
		<title>Swantime</title>
		<meta charset="utf-8"/>
		<base href="/"/>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>

	<body>
		<div class="center">
			<h1>Simple Timetable</h1>		
			<input type="number" id="id" placeholder="964552" autofill="off" required></input>
			<div id="btn" class="btn invalid">Look up</div>
		</div>
		
		<footer>
			<a href="https://github.com/h2n0/Timetable">Fork me!</a>
		</footer>
		
		
		<script>
			function $(id){
				return document.getElementById(id);
			}
			
			var num = $("id");
			var btn = $("btn");
			
			function emptyCheck(){
				if(num.value == ""){
					btn.classList.add("invalid");
				}else{
					btn.classList.remove("invalid");
				}
			}
			
			num.onkeyup = function(){
				emptyCheck();
			}
			
			function showTimetable(){
				if(btn.classList.contains("invalid"))return;
				window.location = "/user/"+num.value+"/";
			}
			
			
			btn.onmouseup = function(){
				showTimetable();
			}
			document.onkeydown = function(e){
				if(e.keyCode == 13){
					showTimetable();
				}
			}
			
			//Just to make sure that it looks right when the page loads
			emptyCheck();
		</script>
	</body>
</html>
